{{#tables}}
CREATE TABLE public.{{tableName}} (
	{{#columns}}
    {{columnName}} {{dataType}}{{length}}{{{defaultValue}}}{{notNull}}{{comma}}
	{{/columns}}
);

{{#autoIncrement}}
ALTER TABLE public.{{tableName}} ALTER COLUMN {{primaryKey}} ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.{{tableName}}_{{primaryKey}}_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);

{{/autoIncrement}}
{{/tables}}

{{#tables}}
{{#primaryKey}}
ALTER TABLE ONLY public.{{tableName}}
    ADD CONSTRAINT {{tableName}}_pkey PRIMARY KEY ({{primaryKey}});

{{/primaryKey}}
{{/tables}}

{{#tables}}
{{#foreignKeys}}
ALTER TABLE ONLY public.{{tableName}}
	ADD CONSTRAINT {{foreignKeyConstraint}} FOREIGN KEY ({{foreignKey}}) REFERENCES public.{{tableReference}}({{foreignKey}});

{{/foreignKeys}}
{{/tables}}